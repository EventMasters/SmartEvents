{"ast":null,"code":"import _classCallCheck from \"/Users/rupa/Desktop/SmartEventsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rupa/Desktop/SmartEventsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rupa/Desktop/SmartEventsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rupa/Desktop/SmartEventsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rupa/Desktop/SmartEventsUI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rupa/Desktop/SmartEventsUI/src/app/main/event/events/ProductsTable.js\";\nimport React, { Component } from 'react';\nimport { Icon, Table, TableBody, TableCell, TablePagination, TableRow, Checkbox } from '@material-ui/core';\nimport { FuseScrollbars } from '@fuse';\nimport { withRouter } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport ProductsTableHead from './ProductsTableHead';\nimport * as Actions from '../store/actions';\n\nvar ProductsTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductsTable, _Component);\n\n  function ProductsTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductsTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductsTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      order: 'asc',\n      orderBy: null,\n      selected: [],\n      data: _this.props.products,\n      page: 0,\n      rowsPerPage: 10\n    };\n\n    _this.getFilteredArray = function (data, searchText) {\n      if (searchText.length === 0) {\n        return data;\n      }\n\n      return _.filter(data, function (item) {\n        return item.name.toLowerCase().includes(searchText.toLowerCase());\n      });\n    };\n\n    _this.handleRequestSort = function (event, property) {\n      var orderBy = property;\n      var order = 'desc';\n\n      if (_this.state.orderBy === property && _this.state.order === 'desc') {\n        order = 'asc';\n      }\n\n      _this.setState({\n        order: order,\n        orderBy: orderBy\n      });\n    };\n\n    _this.handleSelectAllClick = function (event) {\n      if (event.target.checked) {\n        _this.setState(function (state) {\n          return {\n            selected: _this.state.data.map(function (n) {\n              return n.id;\n            })\n          };\n        });\n\n        return;\n      }\n\n      _this.setState({\n        selected: []\n      });\n    };\n\n    _this.handleClick = function (item) {\n      _this.props.history.push('/smartevents/event/events' + item.id + '/' + item.handle);\n    };\n\n    _this.handleCheck = function (event, id) {\n      var selected = _this.state.selected;\n      var selectedIndex = selected.indexOf(id);\n      var newSelected = [];\n\n      if (selectedIndex === -1) {\n        newSelected = newSelected.concat(selected, id);\n      } else if (selectedIndex === 0) {\n        newSelected = newSelected.concat(selected.slice(1));\n      } else if (selectedIndex === selected.length - 1) {\n        newSelected = newSelected.concat(selected.slice(0, -1));\n      } else if (selectedIndex > 0) {\n        newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      }\n\n      _this.setState({\n        selected: newSelected\n      });\n    };\n\n    _this.handleChangePage = function (event, page) {\n      _this.setState({\n        page: page\n      });\n    };\n\n    _this.handleChangeRowsPerPage = function (event) {\n      _this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    _this.isSelected = function (id) {\n      return _this.state.selected.indexOf(id) !== -1;\n    };\n\n    return _this;\n  }\n\n  _createClass(ProductsTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.getProducts();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!_.isEqual(this.props.products, prevProps.products) || !_.isEqual(this.props.searchText, prevProps.searchText)) {\n        var data = this.getFilteredArray(this.props.products, this.props.searchText);\n        this.setState({\n          data: data\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          order = _this$state.order,\n          orderBy = _this$state.orderBy,\n          selected = _this$state.selected,\n          rowsPerPage = _this$state.rowsPerPage,\n          page = _this$state.page,\n          data = _this$state.data; // const isSelected = this.isSelected(n.id);\n\n      return React.createElement(\"div\", {\n        className: \"w-full flex flex-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(FuseScrollbars, {\n        className: \"flex-grow overflow-x-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: \"min-w-xl\",\n        \"aria-labelledby\": \"tableTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(ProductsTableHead, {\n        numSelected: selected.length,\n        order: order,\n        orderBy: orderBy,\n        onSelectAllClick: this.handleSelectAllClick,\n        onRequestSort: this.handleRequestSort,\n        rowCount: data.length,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: \"h-64 cursor-pointer\",\n        hover: true,\n        role: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        className: \"w-48 pl-4 sm:pl-12\",\n        padding: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Checkbox // checked={isSelected}\n      , {\n        onClick: function onClick(event) {\n          return event.stopPropagation();\n        } //onChange={event => this.handleCheck(event, n.id)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        className: \"w-52\",\n        component: \"th\",\n        scope: \"row\",\n        padding: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"w-full block rounded\",\n        src: \"assets/images/ecommerce/product-image-placeholder.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Get Together\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Dec-31-2018\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"Replied YES\")), React.createElement(TableRow, {\n        className: \"h-64 cursor-pointer\",\n        hover: true,\n        role: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        className: \"w-48 pl-4 sm:pl-12\",\n        padding: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Checkbox // checked={isSelected}\n      , {\n        onClick: function onClick(event) {\n          return event.stopPropagation();\n        } //onChange={event => this.handleCheck(event, n.id)}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        className: \"w-52\",\n        component: \"th\",\n        scope: \"row\",\n        padding: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"w-full block rounded\",\n        src: \"assets/images/ecommerce/product-image-placeholder.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Get Together\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Dec-31-2018\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Replied YES\"))))), React.createElement(TablePagination, {\n        component: \"div\",\n        count: data.length,\n        rowsPerPage: rowsPerPage,\n        page: page,\n        backIconButtonProps: {\n          'aria-label': 'Previous Page'\n        },\n        nextIconButtonProps: {\n          'aria-label': 'Next Page'\n        },\n        onChangePage: this.handleChangePage,\n        onChangeRowsPerPage: this.handleChangeRowsPerPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ProductsTable;\n}(Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    getProducts: Actions.getProducts\n  }, dispatch);\n}\n\nfunction mapStateToProps(_ref) {\n  var eCommerceApp = _ref.eCommerceApp;\n  return {\n    products: eCommerceApp.products.data,\n    searchText: eCommerceApp.products.searchText\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductsTable));","map":{"version":3,"sources":["/Users/rupa/Desktop/SmartEventsUI/src/app/main/event/events/ProductsTable.js"],"names":["React","Component","Icon","Table","TableBody","TableCell","TablePagination","TableRow","Checkbox","FuseScrollbars","withRouter","bindActionCreators","connect","classNames","_","ProductsTableHead","Actions","ProductsTable","state","order","orderBy","selected","data","props","products","page","rowsPerPage","getFilteredArray","searchText","length","filter","item","name","toLowerCase","includes","handleRequestSort","event","property","setState","handleSelectAllClick","target","checked","map","n","id","handleClick","history","push","handle","handleCheck","selectedIndex","indexOf","newSelected","concat","slice","handleChangePage","handleChangeRowsPerPage","value","isSelected","getProducts","prevProps","prevState","isEqual","stopPropagation","mapDispatchToProps","dispatch","mapStateToProps","eCommerceApp"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Icon, Table, TableBody, TableCell, TablePagination, TableRow, Checkbox} from '@material-ui/core';\nimport {FuseScrollbars} from '@fuse';\nimport {withRouter} from 'react-router-dom';\nimport {bindActionCreators} from 'redux';\nimport connect from 'react-redux/es/connect/connect';\nimport classNames from 'classnames';\nimport _ from '@lodash';\nimport ProductsTableHead from './ProductsTableHead';\nimport * as Actions from '../store/actions';\n\nclass ProductsTable extends Component {\n\n    state = {\n        order      : 'asc',\n        orderBy    : null,\n        selected   : [],\n        data       : this.props.products,\n        page       : 0,\n        rowsPerPage: 10\n    };\n\n    componentDidMount()\n    {\n        this.props.getProducts();\n    }\n\n    componentDidUpdate(prevProps, prevState)\n    {\n        if ( !_.isEqual(this.props.products, prevProps.products) || !_.isEqual(this.props.searchText, prevProps.searchText) )\n        {\n            const data = this.getFilteredArray(this.props.products, this.props.searchText);\n            this.setState({data})\n        }\n    }\n\n    getFilteredArray = (data, searchText) => {\n        if ( searchText.length === 0 )\n        {\n            return data;\n        }\n        return _.filter(data, item => item.name.toLowerCase().includes(searchText.toLowerCase()));\n    };\n\n    handleRequestSort = (event, property) => {\n        const orderBy = property;\n        let order = 'desc';\n\n        if ( this.state.orderBy === property && this.state.order === 'desc' )\n        {\n            order = 'asc';\n        }\n\n        this.setState({\n            order,\n            orderBy\n        });\n    };\n\n    handleSelectAllClick = event => {\n        if ( event.target.checked )\n        {\n            this.setState(state => ({selected: this.state.data.map(n => n.id)}));\n            return;\n        }\n        this.setState({selected: []});\n    };\n\n    handleClick = (item) => {\n        this.props.history.push('/smartevents/event/events' + item.id + '/' + item.handle);\n    };\n\n    handleCheck = (event, id) => {\n        const {selected} = this.state;\n        const selectedIndex = selected.indexOf(id);\n        let newSelected = [];\n\n        if ( selectedIndex === -1 )\n        {\n            newSelected = newSelected.concat(selected, id);\n        }\n        else if ( selectedIndex === 0 )\n        {\n            newSelected = newSelected.concat(selected.slice(1));\n        }\n        else if ( selectedIndex === selected.length - 1 )\n        {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        }\n        else if ( selectedIndex > 0 )\n        {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        this.setState({selected: newSelected});\n    };\n\n    handleChangePage = (event, page) => {\n        this.setState({page});\n    };\n\n    handleChangeRowsPerPage = event => {\n        this.setState({rowsPerPage: event.target.value});\n    };\n\n    isSelected = id => this.state.selected.indexOf(id) !== -1;\n\n    render()\n    {\n        const {order, orderBy, selected, rowsPerPage, page, data} = this.state;\n        // const isSelected = this.isSelected(n.id);\n\n        return (\n            <div className=\"w-full flex flex-col\">\n\n                <FuseScrollbars className=\"flex-grow overflow-x-auto\">\n\n                    <Table className=\"min-w-xl\" aria-labelledby=\"tableTitle\">\n\n                        <ProductsTableHead\n                            numSelected={selected.length}\n                            order={order}\n                            orderBy={orderBy}\n                            onSelectAllClick={this.handleSelectAllClick}\n                            onRequestSort={this.handleRequestSort}\n                            rowCount={data.length}\n                        />\n\n                        <TableBody>\n                            \n                        <TableRow\n                                            className=\"h-64 cursor-pointer\"\n                                            hover\n                                            role=\"checkbox\"\n                                            \n                                        >\n                                        <TableCell className=\"w-48 pl-4 sm:pl-12\" padding=\"checkbox\">\n                                                <Checkbox\n                                                   // checked={isSelected}\n                                                    onClick={event => event.stopPropagation()}\n                                                    //onChange={event => this.handleCheck(event, n.id)}\n                                                />\n                                            </TableCell>\n                                            <TableCell className=\"w-52\" component=\"th\" scope=\"row\" padding=\"none\">\n                                            <img className=\"w-full block rounded\" src=\"assets/images/ecommerce/product-image-placeholder.png\" />\n                                            </TableCell>\n                                            <TableCell>\n                                             Get Together\n                                            </TableCell>\n                                            <TableCell>\n                                             Dec-31-2018\n                                            </TableCell>\n                                            <TableCell>\n                                             Replied YES\n                                            </TableCell>\n                                            \n                                            \n\n                        </TableRow>\n                        <TableRow\n                                            className=\"h-64 cursor-pointer\"\n                                            hover\n                                            role=\"checkbox\"\n                                            \n                                        >\n                                        <TableCell className=\"w-48 pl-4 sm:pl-12\" padding=\"checkbox\">\n                                                <Checkbox\n                                                   // checked={isSelected}\n                                                    onClick={event => event.stopPropagation()}\n                                                    //onChange={event => this.handleCheck(event, n.id)}\n                                                />\n                                            </TableCell>\n                                            <TableCell className=\"w-52\" component=\"th\" scope=\"row\" padding=\"none\">\n                                            <img className=\"w-full block rounded\" src=\"assets/images/ecommerce/product-image-placeholder.png\" />\n                                            </TableCell>\n                                            <TableCell>\n                                             Get Together\n                                            </TableCell>\n                                            <TableCell>\n                                             Dec-31-2018\n                                            </TableCell>\n                                            <TableCell>\n                                             Replied YES\n                                            </TableCell>\n                                            \n                                            \n\n                        </TableRow>\n                        </TableBody>\n                    </Table>\n                </FuseScrollbars>\n\n                <TablePagination\n                    component=\"div\"\n                    count={data.length}\n                    rowsPerPage={rowsPerPage}\n                    page={page}\n                    backIconButtonProps={{\n                        'aria-label': 'Previous Page'\n                    }}\n                    nextIconButtonProps={{\n                        'aria-label': 'Next Page'\n                    }}\n                    onChangePage={this.handleChangePage}\n                    onChangeRowsPerPage={this.handleChangeRowsPerPage}\n                />\n            </div>\n        );\n    }\n}\n\nfunction mapDispatchToProps(dispatch)\n{\n    return bindActionCreators({\n        getProducts: Actions.getProducts\n    }, dispatch);\n}\n\nfunction mapStateToProps({eCommerceApp})\n{\n    return {\n        products  : eCommerceApp.products.data,\n        searchText: eCommerceApp.products.searchText\n    }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ProductsTable));\n"]},"metadata":{},"sourceType":"module"}